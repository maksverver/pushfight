#include "accessors.h"

#include <array>
#include <cassert>
#include <cstdint>
#include <iostream>
#include <iterator>

// The initial version of r4.bin I computed contained some missing data
// (some permutations were stored as TIE instead of WIN). This tool tries to fix
// an old version of r4.bin by changing TIE to WIN at the appropation locations.

constexpr int64_t indices[] = {
131711361696,
131711361698,
131711361702,
131711361708,
131711361992,
131711364656,
131711368946,
131721639488,
131721639498,
131721645506,
131721649144,
131850931236,
131851620602,
131851620626,
131851620654,
131851620659,
131851620660,
131851620668,
131851620726,
131851620742,
131851620753,
131851620756,
131851620757,
131851620794,
131851620799,
131851620800,
131851620808,
131851620842,
131851620871,
131851620874,
131851620902,
131851621174,
131851621263,
131851621342,
131851621371,
131851621413,
131851622211,
131851622214,
131851622215,
131851622223,
131851622224,
131851623643,
131851623718,
131851623746,
131851623835,
131851623838,
131851623839,
131851623868,
131851623896,
131851624773,
131851624774,
131851625004,
131851625034,
131851625450,
131851626542,
131851626662,
131851626694,
131851626695,
131851627630,
131852024526,
131852024542,
131852024582,
131852024662,
131852025254,
131852025362,
131852576294,
131852576299,
131852576300,
131852576308,
131852576342,
131852576371,
131852576374,
131852576377,
131852576383,
131852576386,
131852576402,
131852576462,
131852576491,
131852576494,
131852576495,
131852576503,
131852576504,
131852576521,
131852576524,
131852576527,
131852576533,
131852576536,
131852576552,
131852576587,
131852576588,
131852576818,
131852577064,
131852577429,
131852577430,
131852578048,
131852578076,
131852578185,
131852578186,
131852578285,
131852578286,
131852578659,
131852578730,
131852578735,
131852579302,
131852579402,
131853563839,
131853563869,
131853563886,
131853563887,
131853563931,
131853563932,
131853563942,
131853563958,
131853564061,
131853564078,
131853564079,
131853564088,
131853564089,
131853564187,
131853564197,
131853915141,
131854478211,
131854478212,
131854478311,
131854478312,
131854478387,
131854478397,
131854478403,
131856310601,
131856310641,
131856310665,
131856310745,
131856310775,
131856310987,
131856310993,
131856311211,
131856311217,
131856311634,
131856327246,
131856327270,
131856327300,
131856327345,
131856327649,
131856327654,
131856351674,
131856351675,
131856351684,
131856351690,
131856351706,
131856351761,
131856351763,
131856351774,
131856351775,
131856351784,
131856351786,
131856351790,
131856351797,
131856351799,
131856359691,
131856367689,
131856367690,
131856367694,
131856367695,
131856367696,
131856367705,
131856367706,
131856367707,
131856367711,
131856367712,
131856367713,
131856367714,
131856369691,
131856369699,
131857240971,
131857240972,
131857241071,
131857241072,
131857241163,
131858322382,
131858322383,
131858322392,
131858322393,
131858322573,
131858322574,
131858322586,
131858322596,
131858494846,
131858494847,
131858494924,
131858663586,
131858663664,
131861499691,
131861499694,
131861500629,
131861500630,
131861501385,
131861501386,
131861502502,
131861805531,
131861805532,
131861805631,
131861805632,
131861805723,
131862944351,
131862944355,
131862944356,
131862944357,
131862944359,
131862944365,
131862944371,
131862948530,
131862948531,
131862948532,
131862948534,
131862948535,
131862948536,
131862948537,
131889579843,
131951883142,
131951934622,
131951946502,
131951947222,
131967128215,
131967128216,
131967128275,
131967128276,
131967128392,
131967128393,
131967128575,
131967128576,
131967128636,
131967128812,
131967128813,
131967128876,
131967632575,
131967632576,
131967632636,
131967632756,
131967732532,
131967732533,
131967732596,
131967732836,
131967779010,
131967779011,
131967779035,
131967779051,
131967817003,
131968234864,
131968235074,
131968235536,
131968235537,
131968235578,
131968235579,
131968236880,
131968236881,
131968236922,
131968236923,
131968379344,
131968814704,
131968814705,
131968814716,
131968814734,
131968814735,
131968814746,
131968814809,
131968814810,
131968814839,
131968814840,
131968815154,
131968815156,
131968815164,
131968815196,
131968815206,
131968839613,
131968839614,
131968839619,
131968839678,
131968839679,
131968877116,
131968877117,
131968877128,
131968877158,
131968877159,
131968877240,
131968877242,
131968877247,
131968882615,
131968882616,
131968882629,
131969157247,
131969378757,
131969378768,
131969378772,
131969378792,
131969378803,
131969378807,
131969379307,
131969379311,
131969379318,
131969379322,
131969379649,
131969379653,
131969379654,
131969379658,
131969431406,
131969431417,
131969431421,
131969431551,
131969431555,
131969431663,
131969431667,
131969558937,
131969558972,
131969559487,
131969559491,
131969559498,
131969559502,
131969611586,
131969611731,
131969611735,
131970182576,
131970182816,
131970298016,
131970320232,
131970320233,
131970503434,
131970503436,
131970503444,
131970503446,
131970503476,
131970503486,
131970508920,
131970508921,
131970515324,
131970515326,
131970515331,
131970515849,
131970574130,
131970574141,
131970574368,
131970574369,
131970583056,
131970583085,
132492327886,
132492327911,
132492330334,
132492330391,
132492337452,
132499004740,
132499004743,
132499004772,
132499004773,
132499004774,
132499004803,
132499004804,
132499012538,
132499012539,
132499012540,
132499104586,
132499105071,
132499105072,
132499105087,
132499105088,
133023465216,
133023465218,
133023465222,
133023465228,
133023465512,
133023468176,
133023472466,
133033743008,
133033743018,
133033749026,
133033752664,
133198600778,
134396897042,
134403591525,
134403591536,
134403646167,
134403753228,
134403756925,
134403756926,
134403756928,
134403756929,
134403756939,
134403760466,
134512065476,
134536422606,
134536422622,
134536422662,
134536422742,
134536423334,
134536423442,
134536520447,
134536520482,
134536520483,
134536520512,
134536520513,
134536520605,
134553351295,
134553351296,
134553351356,
134553351476,
134553412316,
134553417372,
134553419889,
134553420244,
134553527198,
134553597176,
134553609098,
134692764596,
135187956122,
135198702015,
135198702020,
135198747987,
135198781646,
135198781650,
135198782727,
135198782742,
135198782743,
135198782744,
135198783783,
135198783784,
135198787188,
135198788679,
135198788680,
135198790813,
135198790814,
135198790827,
135198790885,
135198790886,
135198790888,
135198790889,
135198790899,
135198792494,
135198792498,
135198792638,
135198792639,
135198792640,
135198794426,
135301594598,
135301594602,
135301594742,
135301594743,
135301594744,
135397966694,
135397966699,
135397966700,
135397966708,
135397966742,
135397966774,
135397966777,
135397966802,
135397966862,
135397966891,
135397966894,
135397966895,
135397966903,
135397966904,
135397966924,
135397966927,
135397966952,
135397967829,
135397967830,
135397968448,
135397968476,
135397968585,
135397968586,
135397968685,
135397968686,
135397969059,
135397969130,
135397969135,
135397969702,
135397969802,
135398130527,
135398272594,
135398272597,
135398272622,
135398272731,
135398272732,
135398272831,
135398272832,
135398272923,
135398273284,
135398273298,
135398620634,
135398620651,
135398620652,
135398620661,
135398620662,
135398620679,
135398620683,
135398620703,
135398620704,
135398620722,
135399411645,
135399411646,
135399411651,
135399411652,
135399411654,
135399411655,
135399411656,
135399411657,
135399411659,
135399411660,
135399411661,
135399411664,
135399411665,
135399411671,
135399411673,
135399411677,
135399411678,
135399415747,
135399415748,
135399415749,
135399415751,
135399415752,
135399415753,
135399415754,
135399415755,
135399559731,
135399559732,
135399559831,
135399559832,
135399559923,
135399688748,
135399835486,
135399835487,
135399835564,
135400722711,
135400722712,
135400722811,
135400722812,
135400722903,
135400851728,
135400982923,
135400982927,
135400982928,
135400983478,
135424225552,
135424225553,
135424225616,
135424225856,
135424341056,
135424348629,
135424363267,
135424363272,
135424363273,
135424409673,
135424409735,
135424410393,
135424410455,
135424410525,
135424415859,
135424415873,
135424415949,
135424415963,
135424415973,
135424546456,
135424546457,
135424546468,
135424546498,
135424546499,
135424546580,
135424546582,
135424546587,
135424551955,
135424551956,
135424551969,
135424558898,
135424617146,
135424617157,
135424617161,
135424617291,
135424617295,
135424617403,
135424617407,
135424649906,
135424650051,
135424650055,
135424722698,
135424781444,
135424781446,
135424781451,
135424781969,
135424784670,
135424784699,
135555550118,
135555550122,
135555550262,
135555550263,
135555550264,
135586024167,
135586024181,
135586024257,
135586024271,
135586024281,
137473665842,
137480522028,
137480529266,
137588834276,
137630120156,
137630181116,
137769533396,
138076725176,
138655425722,
138666256788,
138666264026,
138866765043,
138866765049,
138866765113,
138866765117,
138867304952,
138867305156,
138867305162,
138867305163,
138867305166,
138867305167,
138867305170,
138867305171,
138867305172,
138867305175,
138867305176,
138867305182,
138867305183,
138867305866,
138867305867,
138867305868,
138867305869,
138867305870,
138867305871,
138867305872,
138867305873,
138867305874,
138867305876,
138867305882,
138867305883,
138867357118,
138867357119,
138867357122,
138867357123,
138867357124,
138867357125,
138867357254,
138867357255,
138867357256,
138867357257,
138867357258,
138867357259,
138867357260,
138867357261,
138867403586,
138867403587,
138867403588,
138867403589,
138867403590,
138867403591,
138867403592,
138867403593,
138867412167,
138868434355,
138868434359,
138868434369,
138892016056,
138892016057,
138892016098,
138892016099,
138892016180,
138892016187,
138892251044,
138892251051,
139587637258,
139587637259,
139587637262,
139587637263,
139587637264,
139587637265,
139587637394,
139587637395,
139587637396,
139587637397,
139587637398,
139587637399,
139587637400,
139587637401,
139587645966,
139587645975,
139587653298,
139587653307,
142684250827,
142684250828,
142684251058,
142684251113,
142684251173,
142684251541,
142684251544,
142684251545,
142684251595,
142684251596,
142684251655,
142684251656,
142684251746,
142684251871,
142684251874,
142684251875,
142684251897,
142684251898,
142684251899,
142684251927,
142684251928,
142684251929,
142684251962,
142684251972,
142684251973,
142684251974,
142684252013,
142684252023,
142684252297,
142684252300,
142684252301,
142684252351,
142684252352,
142684252411,
142684252412,
142684252502,
142684252627,
142684252628,
142684252741,
142684252742,
142684252743,
142684252755,
142684252765,
142684252777,
142684279771,
142684308337,
142684308338,
142684308367,
142684308368,
142684308413,
142684308475,
142684308476,
142684308527,
142684308528,
142684308529,
142684308537,
142684308542,
142684308548,
142684308559,
142684308560,
142684308619,
142704312474,
142704312489,
142704518325,
142704518336,
142704595635,
142704595640,
142704714184,
142704714196,
142704714199,
142704714285,
142704714301,
142704714302,
142704714435,
142704714451,
142704714452,
142704717040,
142704717043,
142704717073,
142704717074,
142704717103,
142704717104,
142704737200,
142704737203,
142704737233,
142704737234,
142704737263,
142704737264,
142704757000,
142704757003,
142704757033,
142704757034,
142704757063,
142704757064,
142704796467,
142704796483,
142704796484,
142704797523,
142704797524,
142704802419,
142704802420,
142704806379,
142704806380,
142704870195,
142704870200,
142704916167,
142705290613,
142705290614,
142705290616,
142705290617,
142705290618,
142705290619,
142705290621,
142705290622,
142705290678,
142705290679,
142705336585,
142705336586,
142705336588,
142705336589,
142705336599,
142705373944,
142705373946,
142705373947,
142705373950,
142705373951,
142705373956,
142705373957,
142705373969,
142705373970,
142705373971,
142705373972,
142705373973,
142705373979,
142705373980,
142705373981,
142705373982,
142705373983,
142705373984,
142705373991,
142705373992,
142705373993,
142705373994,
142705373995,
142705373996,
142705373997,
142705375888,
142705375889,
142705375890,
142705375891,
142705375892,
142705375893,
142705375900,
142705375901,
142705375908,
142705375909,
142705375910,
142705375913,
142705375914,
142705375915,
142705375917,
142705375918,
142705375919,
142705375920,
142705375923,
142705375924,
142705375925,
142705375926,
142705375928,
142705375929,
142705375930,
142705375931,
142705375932,
142705375935,
142705375936,
142705375937,
142705375938,
142705375939,
142705375941,
142705375942,
142705375943,
142705376089,
142705376092,
142705376104,
142705376107,
142705376109,
142705376110,
142705376112,
142705376119,
142705376120,
142705376122,
142705376129,
142705376142,
142705376143,
142705381402,
142705381552,
142705381553,
142705381557,
142705381558,
142705381559,
142705381714,
142705381715,
142705381719,
142705381720,
142705381721,
142705381887,
142705381888,
142705381903,
142705381904,
142705382872,
142705382876,
142705382877,
142705382878,
142705383034,
142705383035,
142705383036,
142705383038,
142705383039,
142705383040,
142705383041,
142705383051,
142705383054,
142705383055,
142705383056,
142705383057,
142705383232,
142705383233,
142705383248,
142705386994,
142705386995,
142705386996,
142705386999,
142705387000,
142705387001,
142705387012,
142705387013,
142705387015,
142705387016,
142705387017,
142705387018,
142705387529,
142705387538,
142705387539,
142705388548,
142705388549,
142705388550,
142705388551,
142705388552,
142705388553,
142705388554,
142705388555,
142705388710,
142705388711,
142705388712,
142705388714,
142705388715,
142705388716,
142705388717,
142705389245,
142705389254,
142899612871,
142902618100,
142902618103,
142902618133,
142902618134,
142902618163,
142902618164,
142902625899,
142902625900,
142902717946,
142902718431,
142902718432,
142902718447,
142902718448,
143085392584,
143149921596,
143149921865,
143169850803,
143200400092,
143200400812,
143200425832,
143200426552,
143208572434,
143208572770,
143208572771,
143208573442,
143208573443,
143208862369,
143208862370,
143208862399,
143208862400,
143208862588,
143208862598,
143208893560,
143208893561,
143208893621,
143209706728,
143209706738,
143209712663,
143471012791,
143474018020,
143474018023,
143474018053,
143474018054,
143474018083,
143474018084,
143474025819,
143474025820,
143474117866,
143474118351,
143474118352,
143474118367,
143474118368,
143741444344,
144426271605,
144426271616,
144426326247,
144426437005,
144426437006,
144426437008,
144426437009,
144426437019,
144501164904,
144823826895,
144823826900,
144823872867,
144823907607,
144823907623,
144823907624,
144823908663,
144823908664,
144823913559,
144823913560,
144823915693,
144823915694,
144823915707,
144823915765,
144823915766,
144823915768,
144823915769,
144823915779,
144823917519,
144823917520,
144875264583,
144875264584,
144936629274,
144936728230,
144936728231,
144936728291,
144936845723,
145002242343,
145002242344,
146670463030,
146670463031,
146670463091,
146670580523,
194310753452,
194310753482,
194310753527,
194310822518,
194311294022,
194311294082,
194311354478,
194311397102,
194311397162,
194311397252,
194311397257,
194311397258,
194311397376,
194311397378,
194311397383,
194311397384,
194311397388,
194311397497,
194311397498,
194311397499,
194311397533,
194311397608,
194311397609,
194311397613,
194311397614,
194311397615,
194311397693,
194311397697,
194311397705,
194311397706,
194311397711,
194311397721,
194311397744,
194311397745,
194311397746,
194311397748,
194311397749,
194311397750,
194311397751,
194311400362,
194311400363,
194311404626,
194311404650,
194311404652,
194311404653,
194311404659,
194311408532,
194311408614,
194311410326,
194311410335,
194311413790,
194311413800,
194317224842,
194486532938,
194486532964,
194486532965,
194486532971,
194520386036,
194520765451,
194520765454,
194520766389,
194520766390,
194520767554,
194520767589,
194520768184,
194520768244,
194520768262,
194520768788,
194520768798,
194520768924,
194520768938,
194520769002,
194520929449,
194520929526,
194520929553,
194520929562,
194520988556,
194521071291,
194521071292,
194521071804,
194521072059,
194521072073,
194522070226,
194522070236,
194522070268,
194522070278,
194522094016,
194522131808,
194522131815,
194522137018,
194522174163,
194522174165,
194522174200,
194522174201,
194522174212,
194522174213,
194522174222,
194522174223,
194522174225,
194522174234,
194522174238,
194522174282,
194522174283,
194522174285,
194522174294,
194522174298,
194522174416,
194522174417,
194522174458,
194522174459,
194522174893,
194522174947,
194522175007,
194522175223,
194522175391,
194522175613,
194522175667,
194522175727,
194522175943,
194522176111,
194522179114,
194522179132,
194522179142,
194522183734,
194522183752,
194522183762,
194522185054,
194522185072,
194522185082,
194522185144,
194522185162,
194522185172,
194522186282,
194522186283,
194522186285,
194522186294,
194522186298,
194522186377,
194522186467,
194522186752,
194522187104,
194522187236,
194522187246,
194522198050,
194522207678,
194522207686,
194522207711,
194522207717,
194522207741,
194522207747,
194522207786,
194522207792,
194522207853,
194522207867,
194522207877,
194522208045,
194522208076,
194522208106,
194522208150,
194522208151,
194522208213,
194522208214,
194522208227,
194522208237,
194522208249,
194522208297,
194522208298,
194522208311,
194522208321,
194522208333,
194522208347,
194522210191,
194522213831,
194522213837,
194522213885,
194522213926,
194522213975,
194522213991,
194522219690,
194522219698,
194522219723,
194522219729,
194522219753,
194522219759,
194522219798,
194522219804,
194522219865,
194522219879,
194522219889,
194522220057,
194522220088,
194522220118,
194522220162,
194522220163,
194522220225,
194522220226,
194522220239,
194522220249,
194522220261,
194522220309,
194522220310,
194522220323,
194522220333,
194522220345,
194522220359,
194522225843,
194522225849,
194522225897,
194522225938,
194522225987,
194522226003,
194522273996,
194522274236,
194522275803,
194522275804,
194522276140,
194522277652,
194522277736,
194522389436,
194522634117,
194522634118,
194522634128,
194522634133,
194522686080,
194522732412,
194523438536,
194523777016,
194523777368,
194523777500,
194523777510,
194523781471,
194523782037,
194523791344,
194774674778,
194774674804,
194774674805,
194774674811,
195067677938,
195096081289,
195096081366,
195096081393,
195096081402,
195096107813,
195096202796,
195214114298,
195242575976,
195242658711,
195242658712,
195242659224,
195242895548,
195242895555,
195242900758,
195242918923,
195242918927,
195242918928,
195242919478,
195242966220,
195653729138,
195868538138,
195897044175,
195897044189,
195897044199,
195897118678,
195897319388,
195897319395,
195897324595,
195897324599,
195897324609,
195897390058,
195897390059,
195897390062,
195897390063,
195897390064,
195897390155,
195897390198,
195897390199,
195897398766,
195897398775,
195897406107,
195897554609,
195972786958,
195986394540,
195986394549,
196621400618,
196621400743,
196621400744,
196621400857,
196621400858,
196621400859,
196621400893,
196621400968,
196621400969,
196621400973,
196621400974,
196621400975,
196621401053,
196621401057,
196621401065,
196621401066,
196621401071,
196621401081,
196621401104,
196621401105,
196621401106,
196621401108,
196621401109,
196621401110,
196621401111,
196621403722,
196621403723,
196621408010,
196621408012,
196621408013,
196621408019,
196621411974,
196621413686,
196621413695,
196623821162,
196708477444,
196708477445,
196708477451,
196726133164,
196726133174,
196726163945,
196726185122,
196726185142,
196726185143,
196726185152,
196726185158,
196726185182,
196726185188,
196726185250,
196726185251,
196726185493,
196726185547,
196726185607,
196726185823,
196726185991,
196726188004,
196726188022,
196726188032,
196726188094,
196726188112,
196726188122,
196726190314,
196726190332,
196726190342,
196726190404,
196726190422,
196726190432,
196726191182,
196726191188,
196726191232,
196726191462,
196726191472,
196726191638,
196726191648,
196726203500,
196726203508,
196726203533,
196726203539,
196726203563,
196726203569,
196726203608,
196726203614,
196726203675,
196726203689,
196726203699,
196726203867,
196726203898,
196726203928,
196726203972,
196726203973,
196726204035,
196726204036,
196726204049,
196726204059,
196726204071,
196726204119,
196726204120,
196726204133,
196726204143,
196726204155,
196726204169,
196726209653,
196726209659,
196726209707,
196726209748,
196726209797,
196726209813,
196726986594,
196726986604,
196726986770,
196726986780,
196852548364,
196852548365,
196852548371,
197086545815,
197413757735,
264771748402,
264771748403,
264771748432,
264771748433,
271606992856,
304278377372,
304278377402,
304278377447,
304278446438,
304278936135,
304278936140,
304278982107,
304279014504,
304279016858,
304279016946,
304279017195,
304279018520,
304279018538,
304279018620,
304279018626,
304279019043,
304279020973,
304279020976,
304279020977,
304279021026,
304279021027,
304279021028,
304279021086,
304279021087,
304279021088,
304279021177,
304279021178,
304279021302,
304279021303,
304279021304,
304279021308,
304279021417,
304279021418,
304279021419,
304279021431,
304279021441,
304279021453,
304279021592,
304279021613,
304279021617,
304279021625,
304279021626,
304279021631,
304279021641,
304279021664,
304279021665,
304279021666,
304279021668,
304279021669,
304279021670,
304279021671,
304279024256,
304279024282,
304279024969,
304279025005,
304279025009,
304279026360,
304279026754,
304279026779,
304279026811,
304279026938,
304279026963,
304279027011,
304279028546,
304279028572,
304279028573,
304279028579,
304279032456,
304279032457,
304279032458,
304279032517,
304279032534,
304279034255,
304279037250,
304279037444,
304279037450,
304279037697,
304279037711,
304279037721,
304279038174,
304279038191,
304284848762,
304289308538,
304390663138,
304390663163,
304390663195,
304390663322,
304390663347,
304390663395,
304390664838,
304390664855,
304454156858,
304454156884,
304454156885,
304488009956,
304488142570,
304488142673,
304488142823,
304488368290,
304488368364,
304488368393,
304488368424,
304488368484,
304488368543,
304488368574,
304488370869,
304488370910,
304488370989,
304488371060,
304488389179,
304488389282,
304488389371,
304488389374,
304488389384,
304488389432,
304488390309,
304488390310,
304488391461,
304488391474,
304488391491,
304488391509,
304488391711,
304488391714,
304488391719,
304488391741,
304488391744,
304488391749,
304488392014,
304488392019,
304488392101,
304488392104,
304488392109,
304488392161,
304488392164,
304488392169,
304488392182,
304488392370,
304488392375,
304488392708,
304488392718,
304488392772,
304488392790,
304488392800,
304488392817,
304488392820,
304488392835,
304488392844,
304488392852,
304488392858,
304488392884,
304488392902,
304488392920,
304488392922,
304488392926,
304488392942,
304488392947,
304488392980,
304488392990,
304488393018,
304488393026,
304488393031,
304488393064,
304488393072,
304488393082,
304488550824,
304488551169,
304488553332,
304488553366,
304488553369,
304488553374,
304488553420,
304488553446,
304488553455,
304488553473,
304488553480,
304488553482,
304488553487,
304488553495,
304488612476,
304488614650,
304488643163,
304488657339,
304488657353,
304488657363,
304488690683,
304488690714,
304488691400,
304488695102,
304488695211,
304488695212,
304488695724,
304488695791,
304488695794,
304488695799,
304488695845,
304488695871,
304488695970,
304488695979,
304488695987,
304488695993,
304488696016,
304488696018,
304488696030,
304488696046,
304489043159,
304489043210,
304489043215,
304489694146,
304489694148,
304489694156,
304489694158,
304489694188,
304489694198,
304489717936,
304489755728,
304489755730,
304489755735,
304489760938,
304489798083,
304489798085,
304489798120,
304489798121,
304489798132,
304489798133,
304489798142,
304489798143,
304489798145,
304489798154,
304489798158,
304489798202,
304489798203,
304489798205,
304489798214,
304489798218,
304489798348,
304489798349,
304489798488,
304489798496,
304489798506,
304489798518,
304489798813,
304489798867,
304489798927,
304489799143,
304489799311,
304489799533,
304489799587,
304489799647,
304489799863,
304489800031,
304489803034,
304489803039,
304489803052,
304489803053,
304489803062,
304489803063,
304489807654,
304489807659,
304489807672,
304489807673,
304489807682,
304489807683,
304489808974,
304489808979,
304489808992,
304489808993,
304489809002,
304489809003,
304489809064,
304489809082,
304489809092,
304489810202,
304489810203,
304489810205,
304489810214,
304489810218,
304489810260,
304489810297,
304489810387,
304489810672,
304489810673,
304489811024,
304489811025,
304489811156,
304489811157,
304489811166,
304489819954,
304489820123,
304489821810,
304489821834,
304489821864,
304489822006,
304489822010,
304489822050,
304489822090,
304489822094,
304489825835,
304489826149,
304489826209,
304489831598,
304489831606,
304489831620,
304489831621,
304489831631,
304489831637,
304489831643,
304489831644,
304489831661,
304489831667,
304489831673,
304489831674,
304489831706,
304489831712,
304489831719,
304489831773,
304489831780,
304489831787,
304489831788,
304489831797,
304489831798,
304489831965,
304489831996,
304489832026,
304489832070,
304489832071,
304489832133,
304489832134,
304489832147,
304489832157,
304489832169,
304489832217,
304489832218,
304489832231,
304489832241,
304489832253,
304489832267,
304489834062,
304489834076,
304489834086,
304489834111,
304489834219,
304489834235,
304489837751,
304489837757,
304489837763,
304489837764,
304489837805,
304489837806,
304489837846,
304489837895,
304489837911,
304489838221,
304489843610,
304489843618,
304489843643,
304489843649,
304489843673,
304489843679,
304489843718,
304489843724,
304489843785,
304489843799,
304489843809,
304489843977,
304489844008,
304489844038,
304489844082,
304489844083,
304489844145,
304489844146,
304489844159,
304489844169,
304489844181,
304489844229,
304489844230,
304489844243,
304489844253,
304489844265,
304489844279,
304489849763,
304489849769,
304489849817,
304489849858,
304489849907,
304489849923,
304489897916,
304489898156,
304489899723,
304489899724,
304489900060,
304489901572,
304489901656,
304489904763,
304489906696,
304490013356,
304490257970,
304490257971,
304490257972,
304490257975,
304490257976,
304490257977,
304490258037,
304490258038,
304490258048,
304490258053,
304490309984,
304490309985,
304490309986,
304490310000,
304490356316,
304490356332,
304490901140,
304491062456,
304491400936,
304491401288,
304491401420,
304491401430,
304491405386,
304491405390,
304491405391,
304491405957,
304491415264,
304514992596,
304644618658,
304644618683,
304644618715,
304644618842,
304644618867,
304644618915,
304644620358,
304644620375,
304742298698,
304742298724,
304742298725,
305035305567,
305063702664,
305063703009,
305063705172,
305063705206,
305063705209,
305063705214,
305063705260,
305063705286,
305063705295,
305063705313,
305063705320,
305063705322,
305063705327,
305063705335,
305063728810,
305063731733,
305063787860,
305063789278,
305063826716,
305181738218,
305181741855,
305181741856,
305181741927,
305210199896,
305210202070,
305210230583,
305210278103,
305210278134,
305210278820,
305210282522,
305210282631,
305210282632,
305210283144,
305210283211,
305210283214,
305210283219,
305210283265,
305210283291,
305210283390,
305210283407,
305210283436,
305210283438,
305210283450,
305210283466,
305210384614,
305210384632,
305210384704,
305210384722,
305210384732,
305210411648,
305210519468,
305210519470,
305210519475,
305210524678,
305210542843,
305210542844,
305210542847,
305210542848,
305210542849,
305210542851,
305210543398,
305210590124,
305210590125,
305210590126,
305210590140,
305210755896,
305836162058,
305864943308,
305864943315,
305864948515,
305864948519,
305864948529,
305865013928,
305865013978,
305865013979,
305865013982,
305865013983,
305865013984,
305865014075,
305865014118,
305865014119,
305865022686,
305865022695,
305865030027,
305865178529,
305868240540,
305868240549,
305954018460,
305954018469,
306588939495,
306588939500,
306588985467,
306589020555,
306589022403,
306589024333,
306589024336,
306589024337,
306589024387,
306589024388,
306589024447,
306589024448,
306589024538,
306589024663,
306589024664,
306589024777,
306589024778,
306589024779,
306589024791,
306589024801,
306589024813,
306589024973,
306589024977,
306589024985,
306589024986,
306589024991,
306589025001,
306589025024,
306589025025,
306589025026,
306589025028,
306589025029,
306589025030,
306589025031,
306589027642,
306589028329,
306589028365,
306589028369,
306589030171,
306589030371,
306589031932,
306589031933,
306589031939,
306589035817,
306589035818,
306589035877,
306589035894,
306589037615,
306591445082,
306644352115,
306644352315,
306676101364,
306676101365,
306693094209,
306693094250,
306693094329,
306693094400,
306693185409,
306693255350,
306693757084,
306693757094,
306693787865,
306693809042,
306693809062,
306693809063,
306693809072,
306693809078,
306693809102,
306693809108,
306693809413,
306693809467,
306693809527,
306693809743,
306693809911,
306693811924,
306693811929,
306693811942,
306693811943,
306693811952,
306693811953,
306693812014,
306693812032,
306693812042,
306693814234,
306693814239,
306693814252,
306693814253,
306693814262,
306693814263,
306693814324,
306693814342,
306693814352,
306693815102,
306693815108,
306693815152,
306693815382,
306693815383,
306693815392,
306693815558,
306693815559,
306693815568,
306693819802,
306693819971,
306693822878,
306693827420,
306693827428,
306693827453,
306693827459,
306693827483,
306693827489,
306693827528,
306693827534,
306693827595,
306693827609,
306693827619,
306693827787,
306693827818,
306693827848,
306693827892,
306693827893,
306693827955,
306693827956,
306693827969,
306693827979,
306693827991,
306693828039,
306693828040,
306693828053,
306693828063,
306693828075,
306693828089,
306693833573,
306693833579,
306693833627,
306693833668,
306693833717,
306693833733,
306693860853,
306693862786,
306694360448,
306694610514,
306694610524,
306694610690,
306694610700,
306771329875,
306771330075,
306820172284,
306820172285,
306966666327,
306980761329,
306980803808,
307039846215,
307039846216,
307039846287,
307054049060,
307054169735,
307381381655,
310959930414,
310959930808,
310959930833,
310959930865,
310959931230,
310959931231,
310959931232,
310959931291,
310959932508,
310959932545,
311241801685,
311241802051,
311241802052,
311241802111,
314666709488,
314695415210,
314784465486,
314860162559,
314860165290,
314860165292,
314860165299,
};

int main() {
  const char *filename = "input/r4.bin";
  MutableRnAccessor acc(filename);
  std::cout << "Attempting to fix " << filename << "..." << std::endl;
  int flips = 0;
  for (int64_t i : indices) {
    Outcome o = acc[i];
    if (o == WIN) {
      // OK: already win. File was fixed before?
    } else if (o == LOSS) {
      std::cerr << "Error! Detected a LOSS at index " << i << " which should be a TIE or WIN!" << std::endl;
      return 1;
    } else {
      assert(o == TIE);
      // OK: we can fix this!
      acc[i] = WIN;
      ++flips;
    }
  }
  if (flips == 0) {
    std::cerr << "No changes made. File was probably already fixed." << std::endl;
  } else {
    std::cerr << "Changed " << flips << " of " << std::size(indices) << " ties to wins!\n";
    if (flips != std::size(indices) ) {
      std::cerr << "WARNING! It's weird that only some of the expected changes were needed.\n"
          "Please double check the SHA-256 sum of the output file!" << std::endl;
    }
  }
}
